<?php

// if a search term is not provided
if(!isset($_POST['q']) || strlen($_POST['q']) == 0) {
	echo json_encode(array());
	exit;
}

$q = $_POST['q'];

// this array should be gotten from a database
// e.g. $sql = 'SELECT `tag` FROM `tags` WHERE `tag` LIKE "' . mysql_real_escape_string($q) . '%"';
// but for this demo's purpose we'll just loop through the array and unset bad values
$tags = array(
	'a',
	'able',
	'about',
	'account',
	'acid',
	'across',
	'act',
	'addition',
	'adjustment',
	'advertisement',
	'after',
	'again',
	'against',
	'agreement',
	'air',
	'alabama',
	'alaska',
	'all',
	'almost',
	'among',
	'amount',
	'amusement',
	'and',
	'angle',
	'angry',
	'animal',
	'answer',
	'ant',
	'any',
	'apparatus',
	'apple',
	'approval',
	'arch',
	'argument',
	'arizona',
	'arkansas',
	'arm',
	'army',
	'art',
	'as',
	'at',
	'attack',
	'attempt',
	'attention',
	'attraction',
	'authority',
	'automatic',
	'awake',
	'baby',
	'back',
	'bad',
	'bag',
	'balance',
	'ball',
	'band',
	'base',
	'basin',
	'basket',
	'bath',
	'be',
	'beautiful',
	'because',
	'bed',
	'bee',
	'before',
	'behaviour',
	'belief',
	'bell',
	'bent',
	'berry',
	'between',
	'bird',
	'birth',
	'bit',
	'bite',
	'bitter',
	'black',
	'blade',
	'blood',
	'blow',
	'blue',
	'board',
	'boat',
	'body',
	'boiling',
	'bone',
	'book',
	'boot',
	'bottle',
	'box',
	'boy',
	'brain',
	'brake',
	'branch',
	'brass',
	'bread',
	'breath',
	'brick',
	'bridge',
	'bright',
	'broken',
	'brother',
	'brown',
	'brush',
	'bucket',
	'building',
	'bulb',
	'burn',
	'burst',
	'business',
	'but',
	'butter',
	'button',
	'by',
	'cake',
	'california',
	'camera',
	'canvas',
	'card',
	'care',
	'carriage',
	'cart',
	'cat',
	'cause',
	'certain',
	'chain',
	'chalk',
	'chance',
	'change',
	'cheap',
	'cheese',
	'chemical',
	'chest',
	'chief',
	'chin',
	'church',
	'circle',
	'clean',
	'clear',
	'clock',
	'cloth',
	'cloud',
	'coal',
	'coat',
	'cold',
	'collar',
	'colorado',
	'colour',
	'comb',
	'come',
	'comfort',
	'committee',
	'common',
	'company',
	'comparison',
	'competition',
	'complete',
	'complex',
	'condition',
	'connecticut',
	'connection',
	'conscious',
	'control',
	'cook',
	'copper',
	'copy',
	'cord',
	'cork',
	'cotton',
	'cough',
	'country',
	'cover',
	'cow',
	'crack',
	'credit',
	'crime',
	'cruel',
	'crush',
	'cry',
	'cup',
	'cup',
	'current',
	'curtain',
	'curve',
	'cushion',
	'damage',
	'danger',
	'dark',
	'daughter',
	'day',
	'dead',
	'dear',
	'death',
	'debt',
	'decision',
	'deep',
	'degree',
	'delaware',
	'delicate',
	'dependent',
	'design',
	'desire',
	'destruction',
	'detail',
	'development',
	'different',
	'digestion',
	'direction',
	'dirty',
	'discovery',
	'discussion',
	'disease',
	'disgust',
	'distance',
	'distribution',
	'division',
	'do',
	'dog',
	'door',
	'doubt',
	'down',
	'drain',
	'drawer',
	'dress',
	'drink',
	'driving',
	'drop',
	'dry',
	'dust',
	'ear',
	'early',
	'earth',
	'east',
	'edge',
	'education',
	'effect',
	'egg',
	'elastic',
	'electric',
	'end',
	'engine',
	'enough',
	'equal',
	'error',
	'even',
	'event',
	'ever',
	'every',
	'example',
	'exchange',
	'existence',
	'expansion',
	'experience',
	'expert',
	'eye',
	'face',
	'fact',
	'fall',
	'false',
	'family',
	'far',
	'farm',
	'fat',
	'father',
	'fear',
	'feather',
	'feeble',
	'feeling',
	'female',
	'fertile',
	'fiction',
	'field',
	'fight',
	'finger',
	'fire',
	'first',
	'fish',
	'fixed',
	'flag',
	'flame',
	'flat',
	'flight',
	'floor',
	'florida',
	'flower',
	'fly',
	'fold',
	'food',
	'foolish',
	'foot',
	'for',
	'force',
	'fork',
	'form',
	'forward',
	'fowl',
	'frame',
	'free',
	'frequent',
	'friend',
	'from',
	'front',
	'fruit',
	'full',
	'future',
	'garden',
	'general',
	'georgia',
	'get',
	'girl',
	'give',
	'glass',
	'glove',
	'go',
	'goat',
	'gold',
	'good',
	'government',
	'grain',
	'grass',
	'great',
	'green',
	'grey',
	'grip',
	'group',
	'growth',
	'guide',
	'gun',
	'hair',
	'hammer',
	'hand',
	'hanging',
	'happy',
	'harbour',
	'hard',
	'harmony',
	'hat',
	'hate',
	'have',
	'hawaii',
	'he',
	'head',
	'healthy',
	'hear',
	'hearing',
	'heart',
	'heat',
	'help',
	'high',
	'history',
	'hole',
	'hollow',
	'hook',
	'hope',
	'horn',
	'horse',
	'hospital',
	'hour',
	'house',
	'how',
	'humour',
	'i',
	'ice',
	'idaho',
	'idea',
	'if',
	'ill',
	'illinois',
	'important',
	'impulse',
	'in',
	'increase',
	'indiana',
	'industry',
	'ink',
	'insect',
	'instrument',
	'insurance',
	'interest',
	'invention',
	'iowa',
	'iron',
	'island',
	'jelly',
	'jewel',
	'join',
	'journey',
	'judge',
	'jump',
	'kansas',
	'keep',
	'kentucky',
	'kettle',
	'key',
	'kick',
	'kind',
	'kiss',
	'knee',
	'knife',
	'knot',
	'knowledge',
	'land',
	'language',
	'last',
	'late',
	'laugh',
	'law',
	'lead',
	'leaf',
	'learning',
	'leather',
	'left',
	'leg',
	'let',
	'letter',
	'level',
	'library',
	'lift',
	'light',
	'like',
	'limit',
	'line',
	'linen',
	'lip',
	'liquid',
	'list',
	'little',
	'living',
	'lock',
	'long',
	'look',
	'loose',
	'loss',
	'loud',
	'louisiana',
	'love',
	'low',
	'machine',
	'maine',
	'make',
	'male',
	'man',
	'manager',
	'map',
	'mark',
	'market',
	'married',
	'maryland',
	'mass',
	'massachusetts',
	'match',
	'material',
	'may',
	'meal',
	'measure',
	'meat',
	'medical',
	'meeting',
	'memory',
	'metal',
	'michigan',
	'middle',
	'military',
	'milk',
	'mind',
	'mine',
	'minnesota',
	'minute',
	'mississippi',
	'missouri',
	'mist',
	'mixed',
	'money',
	'monkey',
	'montana',
	'month',
	'moon',
	'morning',
	'mother',
	'motion',
	'mountain',
	'mouth',
	'move',
	'much',
	'muscle',
	'music',
	'nail',
	'name',
	'narrow',
	'nation',
	'natural',
	'near',
	'nebraska',
	'necessary',
	'neck',
	'need',
	'needle',
	'nerve',
	'net',
	'nevada',
	'new hampshire',
	'new jersey',
	'new mexico',
	'new york',
	'new',
	'news',
	'night',
	'no',
	'noise',
	'normal',
	'north carolina',
	'north dakota',
	'north',
	'nose',
	'not',
	'note',
	'now',
	'number',
	'nut',
	'observation',
	'of',
	'off',
	'offer',
	'office',
	'ohio',
	'oil',
	'oklahoma',
	'old',
	'on',
	'only',
	'open',
	'operation',
	'opinion',
	'opposite',
	'or',
	'orange',
	'order',
	'oregon',
	'organization',
	'ornament',
	'other',
	'out',
	'oven',
	'over',
	'owner',
	'page',
	'pain',
	'paint',
	'paper',
	'parallel',
	'parcel',
	'part',
	'past',
	'paste',
	'payment',
	'peace',
	'pen',
	'pencil',
	'pennsylvania',
	'person',
	'physical',
	'picture',
	'pig',
	'pin',
	'pipe',
	'place',
	'plane',
	'plant',
	'plate',
	'play',
	'please',
	'pleasure',
	'plough',
	'pocket',
	'point',
	'poison',
	'polish',
	'political',
	'poor',
	'porter',
	'position',
	'possible',
	'pot',
	'potato',
	'powder',
	'power',
	'present',
	'price',
	'print',
	'prison',
	'private',
	'probable',
	'process',
	'produce',
	'profit',
	'property',
	'prose',
	'protest',
	'public',
	'pull',
	'pump',
	'punishment',
	'purpose',
	'push',
	'put',
	'quality',
	'question',
	'quick',
	'quiet',
	'quite',
	'rail',
	'rain',
	'range',
	'rat',
	'rate',
	'ray',
	'reaction',
	'reading',
	'ready',
	'reason',
	'receipt',
	'record',
	'red',
	'regret',
	'regular',
	'relation',
	'religion',
	'representative',
	'request',
	'respect',
	'responsible',
	'rest',
	'reward',
	'rhode island',
	'rhythm',
	'rice',
	'right',
	'ring',
	'river',
	'road',
	'rod',
	'roll',
	'roof',
	'room',
	'root',
	'rough',
	'round',
	'rub',
	'rule',
	'run',
	'sad',
	'safe',
	'sail',
	'salt',
	'same',
	'sand',
	'say',
	'scale',
	'school',
	'science',
	'scissors',
	'screw',
	'sea',
	'seat',
	'second',
	'secret',
	'secretary',
	'see',
	'seed',
	'seem',
	'selection',
	'self',
	'send',
	'sense',
	'separate',
	'serious',
	'servant',
	'sex',
	'shade',
	'shake',
	'shame',
	'sharp',
	'sheep',
	'shelf',
	'ship',
	'shirt',
	'shock',
	'shoe',
	'short',
	'shut',
	'side',
	'sign',
	'silk',
	'silver',
	'simple',
	'sister',
	'size',
	'skin',
	'skirt',
	'sky',
	'sleep',
	'slip',
	'slope',
	'slow',
	'small',
	'smash',
	'smell',
	'smile',
	'smoke',
	'smooth',
	'snake',
	'sneeze',
	'snow',
	'so',
	'soap',
	'society',
	'sock',
	'soft',
	'solid',
	'some',
	'son',
	'song',
	'sort',
	'sound',
	'soup',
	'south carolina',
	'south dakota',
	'south',
	'space',
	'spade',
	'special',
	'sponge',
	'spoon',
	'spring',
	'square',
	'stage',
	'stamp',
	'star',
	'start',
	'statement',
	'station',
	'steam',
	'steel',
	'stem',
	'step',
	'stick',
	'sticky',
	'stiff',
	'still',
	'stitch',
	'stocking',
	'stomach',
	'stone',
	'stop',
	'store',
	'story',
	'straight',
	'strange',
	'street',
	'stretch',
	'strong',
	'structure',
	'substance',
	'such',
	'sudden',
	'sugar',
	'suggestion',
	'summer',
	'sun',
	'support',
	'surprise',
	'sweet',
	'swim',
	'system',
	'table',
	'tail',
	'take',
	'talk',
	'tall',
	'taste',
	'tax',
	'teaching',
	'tendency',
	'tennessee',
	'test',
	'texas',
	'than',
	'that',
	'the',
	'then',
	'theory',
	'there',
	'thick',
	'thin',
	'thing',
	'this',
	'thought',
	'thread',
	'throat',
	'through',
	'through',
	'thumb',
	'thunder',
	'ticket',
	'tight',
	'till',
	'time',
	'tin',
	'tired',
	'to',
	'toe',
	'together',
	'tomorrow',
	'tongue',
	'tooth',
	'top',
	'touch',
	'town',
	'trade',
	'train',
	'transport',
	'tray',
	'tree',
	'trick',
	'trouble',
	'trousers',
	'true',
	'turn',
	'twist',
	'umbrella',
	'under',
	'unit',
	'up',
	'use',
	'utah',
	'value',
	'vermont',
	'verse',
	'very',
	'vessel',
	'view',
	'violent',
	'virginia',
	'voice',
	'waiting',
	'walk',
	'wall',
	'war',
	'warm',
	'wash',
	'washington',
	'waste',
	'watch',
	'water',
	'wave',
	'wax',
	'way',
	'weather',
	'week',
	'weight',
	'well',
	'west virginia',
	'west',
	'wet',
	'wheel',
	'when',
	'where',
	'while',
	'whip',
	'whistle',
	'white',
	'who',
	'why',
	'wide',
	'will',
	'wind',
	'window',
	'wine',
	'wing',
	'winter',
	'wire',
	'wisconsin',
	'wise',
	'with',
	'woman',
	'wood',
	'wool',
	'word',
	'work',
	'worm',
	'wound',
	'writing',
	'wrong',
	'wyoming',
	'year',
	'yellow',
	'yes',
	'yesterday',
	'you',
	'young',
);

// matches $q again each array element
foreach($tags as $i => $tag) {
	if(substr($tag, 0, 1) != $q) {
		unset($tags[$i]);
	}	
}

// reset the array indexes and convert to json
echo json_encode(array_values($tags));
